import e from"node:crypto";export default function(t,i,d){switch(t.url){case"/data/visit":d.live++,d.visits++,d.peak<d.live&&(d.peak=d.live),i.end("OK");break;case"/data/create-id":i.end(e.randomUUID());break;case"/data/keep-alive":i.end();break;case"/data/destroy":a(t,d),i.end();break;case"/data/data":i.writeHead(200,{"Content-Type":"application/json"}),i.end(JSON.stringify(d));break;default:i.writeHead(404),i.end("404")}}function a(e,a){a.live=a.live-1}